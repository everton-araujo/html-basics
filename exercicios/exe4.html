<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div>
    <h1>Buscando e contando dados em Array</h1>

    <p>
      Baseado no Array de Livros por Categoria abaixo, faça os seguintes desafios:

    <ul>
      <li>Contar o número de categorias e o número de livros em cada categoria;</li>
      <li>Contar o número de autores</li>
      <li>Mostrar livros do autor Augusto Cury</li>
      <li>Transformar a função acima em uma função que irá receber o nome do autor e devolver os livros desse autor</li>
    </ul>
    </p>
  </div>

  <script>
    const booksByCategory = [
      {
        category: "Riqueza",
        books: [
          {
            title: "Os segredos da mente milionária",
            author: "T. Harv Eker",
          },
          {
            title: "O homem mais rico da Babilônia",
            author: "George S. Clason",
          },
          {
            title: "Pai rico, pai pobre",
            author: "Robert T. Kiyosaki e Sharon L. Lechter",
          },
        ],
      },
      {
        category: "Inteligência Emocional",
        books: [
          {
            title: "Você é Insubstituível",
            author: "Augusto Cury",
          },
          {
            title: "Ansiedade – Como enfrentar o mal do século",
            author: "Augusto Cury",
          },
          {
            title: "Os 7 hábitos das pessoas altamente eficazes",
            author: "Stephen R. Covey",
          },
        ],
      },
    ];


    const totalCategories = booksByCategory.length;

    const authors = new Set();

    for (let category of booksByCategory) {
      console.log(`Quantidade de livros da categoria: ${category.category} é ${category.books.length}`);

      for (i = 0; i < category.books.length; i++) {
        authors.add(category.books[i].author);
      }
    }

    console.log(`A quantidade de autores são ${authors.size}`);

    const books = new Array();

    function findBooksByAuthor(authorName) {
      for (let category of booksByCategory) {
        for (let book of category.books) {
          if (book.author === authorName) {
            books.push(book.title)
          }
        }
      }
    }

    const author = 'Augusto Cury'
    findBooksByAuthor(author)
    console.log(author, books);

  </script>
</body>

</html>